<!DOCTYPE html>
	<html lang="en">
		<head>
			<meta charset="UTF-8">
			<meta name="viewport" content="width=device-width, initial-scale=1">
			{include file="public:top"}
			<block name="topCss">
				<!--DataTables css-->
				<link rel="stylesheet" href="__STATIC__/plugins/Datatable/css/dataTables.bootstrap4.css">
			</block>
		</head>

		<body class="app ">

			<div id="spinner"></div>

			<div id="app">
				<div class="main-wrapper" >
					{include file="public:header"}
					{include file="public:menu"}
					<block name="bodsy">
						<div class="app-content">
							<section class="section">
								<ol class="breadcrumb">
							        <li class="breadcrumb-item"><a href="{:url('index/index')}">首页</a></li>
							        <li class="breadcrumb-item active" aria-current="page">权限页面</li>
							    </ol>

								<div class="row">
									<div class="col-lg-12">
										<div class="card">
											<div class="card-header">
												<h4>权限列表</h4>
											</div>
											<div class="card-body">
												<a href="#" class="btn btn-primary">添加</a>
												<div class="table-responsive">
													<table id="example" class="table table-striped table-bordered border-t0 text-nowrap w-100" >
														<thead>
															<tr>
																<th class="row-selected">
																	<div class="custom-checkbox custom-control">
																		<input type="checkbox" data-checkboxes="mygroup" class="custom-control-input" name="" id="check">
																		<label for="" class="custom-control-label"></label>
																	</div>
																	<!-- <input class="checkbox check-all" type="checkbox"> -->
																</th>
																<th class="wd-15p">ID</th>
																<th class="wd-15p">描述</th>
																<th class="wd-15p">名字</th>
																<th class="wd-20p">模型</th>
																<th class="wd-15p">图标</th>
																<th class="wd-10p">是否被禁用</th>
																<th class="wd-10p">是否是导航栏</th>
																<th class="wd-25p">上级描述</th>
																<th class="wd-25p">创建时间</th>
																<th class="wd-25p">更新时间</th>
																<th class="wd-25p">操作</th>
															</tr>
														</thead>
														<tbody>
															{volist name='permission' id="vo"}
															<tr>
																<td>
																	<div class="custom-checkbox custom-control">
																		<input type="checkbox" data-checkboxes="mygroup" class="custom-control-input" name="id[]" id="{$vo.id}">
																		<label for="{$vo.id}" class="custom-control-label"></label>
																	</div>
																	<!-- <input class="ids" type="checkbox" name="id[]" value="{$vo.id}"/> -->
																</td>
																<td>{$vo.id}</td>
																<td>{$vo.title}</td>
																<td>{$vo.name}</td>
																<td>{$vo.model}</td>
																<td><i class="{$vo.icon}"></i></td>
																<td>
																	{if condition="$vo['status'] eq  '正常'"}
																	<div class="badge badge-success">{$vo.status}</div>
																	{/if}
																	{if condition="$vo['status'] eq  '禁用'"}
																	<div class="badge badge-warning">{$vo.status}</div>
																	{/if}
																	{if condition="$vo['status'] eq  '删除'"}
																	<div class="badge badge-danger">{$vo.status}</div>
																	{/if}
																</td>
																<td>{$vo.display_menu}</td>
																<td>
																	{$vo.parentName}
																</td>
																<td>{$vo.create_time}</td>
																<td>{$vo.update_time}</td>
																<td>
																	{if condition="$vo['status'] neq  '正常'"}
																	<a href="#" class="btn btn-primary">启用</a>
																	{else/}
																	<a href="#" class="btn btn-warning">禁用</a>
																	{/if}
																	
																	<a href="#" class="btn btn-info m-b-5 m-t-5">编辑</a>
																	<a href="#" class="btn btn-danger m-b-5 m-t-5">删除</a>
																</td>
															
															</tr>
															{/volist}
														</tbody>
													</table>
												</div>
												<div id="page" class="page">
													{$page|raw}
												</div>
											</div>
										</div>
									</div>
								</div>

							</section>
						</div>
						<!-- <script>
							$(function(e) {
								$('#example').DataTable();
							} );
						</script> -->
					</block>
				</div>
			</div>
			{include file="public:js"}
			<block name="js">
				<script>
					document.getElementById("check").onclick = function(){
        var checked = document.getElementById("check").checked;
        var checkson = document.getElementsByName("id[]");
        if(checked){
            for(var i = 0; i < checkson.length ;i++){
                checkson[i].checked = true;
            }
        }else{
            for(var i = 0; i < checkson.length ;i++){
                checkson[i].checked = false;
            }
        }
    }
				</script>
				<!--DataTables css-->
				<script src="__STATIC__/plugins/Datatable/js/jquery.dataTables.js"></script>
				<script src="__STATIC__/plugins/Datatable/js/dataTables.bootstrap4.js"></script>
			</block>
		</body>
	</html>