<!DOCTYPE html>
	<html lang="en">
		<head>
			<meta charset="UTF-8">
			<meta name="viewport" content="width=device-width, initial-scale=1">
			{include file="public:top"}
			<block name="topCss">
				<!--DataTables css-->
				<link rel="stylesheet" href="__STATIC__/plugins/Datatable/css/dataTables.bootstrap4.css">

				<!--iCheck css-->
				<link rel="stylesheet" href="__STATIC__/plugins/iCheck/all.css">
			</block>
		</head>

		<body class="app ">

			<div id="spinner"></div>

			<div id="app">
				<div class="main-wrapper" >
					{include file="public:header"}
					{include file="public:menu"}
					<block name="bodsy">
						<div class="app-content">
							<section class="section">
								<ol class="breadcrumb">
							        <li class="breadcrumb-item"><a href="{:url('index/index')}">首页</a></li>
							        <li class="breadcrumb-item active" aria-current="page">权限页面</li>
							    </ol>

								<div class="row">
									<div class="col-lg-12">
										<div class="card">
											<div class="card-header">
												<form class="float-right">
													<div class="input-group">
														<input type="text" class="form-control" placeholder="Search" value="{{$Request.param.keyword}}">
														<div class="input-group-btn">
															<button class="btn btn-primary"><i class="ion ion-search"></i></button>
														</div>
													</div>
												</form>	
												<h4>权限列表</h4>
											</div>
											<div class=" col-lg-12" style="margin-top:20px;margin-bottom: -10px;">
												<div class="float-left" style="margin-right: 10px;">
													<a href="{:url('admin/add')}" class="btn btn-primary">添加权限</a> 
												</div>
												<div class="float-left">
													<a href="{:url('admin/add')}" class="btn btn-danger" >批量删除</a> 
												</div>
												<div class="float-right col-lg-4">
													
												</div> 
												
											</div>
											<div class="card-body">
											
												<div class="table-responsive">
													<table id="example" class="table table-striped table-bordered border-t0 text-nowrap w-100" >
														<thead>
															<tr>
																<th class="row-selected">
																	<input class="minimal" type="checkbox"  onclick="selectAll(this)" id="checkall">
																	<label for="checkall">全选</label>
																</th>
																<th class="wd-15p">ID</th>
																<th class="wd-15p">描述</th>
																<th class="wd-15p">名字</th>
																<th class="wd-20p">模型</th>
																<th class="wd-15p">图标</th>
															
																<th class="wd-10p">是否是导航栏</th>
																<th class="wd-25p">上级描述</th>
																<th class="wd-25p">创建时间</th>
																<th class="wd-25p">更新时间</th>
																<th class="wd-25p">操作</th>
															</tr>
														</thead>
														<tbody>
															{volist name='permission' id="vo"}
															<tr>
																<td>
																	<input type="checkbox" class="minimal" name="choice" value="{$vo.id}">
																</td>
																<td>{$vo.id}</td>
																<td>{$vo.title}</td>
																<td>{$vo.name}</td>
																<td>{$vo.model}</td>
																<td><i class="{$vo.icon}"></i></td>
																
																<td>{$vo.display_menu}</td>
																<td>
																	{$vo.parentName}
																</td>
																<td>{$vo.create_time}</td>
																<td>{$vo.update_time}</td>
																<td>
																	<div class="btn-group align-top">
																		<button class="btn btn-sm btn-primary badge" data-target="#user-form-modal" data-toggle="modal" type="button">Edit</button>
																	</div>
																	<div class="btn-group align-top">
																		<button class="btn btn-sm btn-danger badge" type="button"><i class="fa fa-trash"></i></button>
																	</div>
																</td>
															
															</tr>
															{/volist}
														</tbody>
													</table>
												</div>
												<div id="page" class="page">
													{$page|raw}
												</div>
											</div>
										</div>
									</div>
								</div>

							</section>
						</div>
						<!-- <script>
							$(function(e) {
								$('#example').DataTable();
							} );
						</script> -->
					</block>
				</div>
			</div>
			{include file="public:js"}
			<block name="js">
				<script>
				// 	document.getElementById("check").onclick = function(){
    //     var checked = document.getElementById("check").checked;
    //     var checkson = document.getElementsByName("id[]");
    //     if(checked){
    //         for(var i = 0; i < checkson.length ;i++){
    //             checkson[i].checked = true;
    //         }
    //     }else{
    //         for(var i = 0; i < checkson.length ;i++){
    //             checkson[i].checked = false;
    //         }
    //     }
    // }
			    function selectAll(choiceBtn){   
			        //document.getElementsByTagName()
				    var arr=document.getElementsByName("choice");
				    for(var i=0;i<arr.length;i++){
				        arr[i].checked=choiceBtn.checked;//循环遍历看是否全选
				    }
				}
				</script>
				<!--DataTables css-->
				<script src="__STATIC__/plugins/Datatable/js/jquery.dataTables.js"></script>
				<script src="__STATIC__/plugins/Datatable/js/dataTables.bootstrap4.js"></script>
				<!--iCheck js-->
				<script src="__STATIC__/plugins/iCheck/icheck.min.js"></script>
			</block>
		</body>
	</html>